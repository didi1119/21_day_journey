<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éœè¬æ£®æ— 5 å¤©é«”é©—æ—…ç¨‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&family=Noto+Serif+TC:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans TC', sans-serif; 
            background: linear-gradient(to bottom, #f5f3f0, #e8e4de);
        }
        h1, h2, h3 { font-family: 'Noto Serif TC', serif; }
        
        /* å‹•ç•«æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
        
        .fade-in { animation: fadeIn 0.8s ease-out; }
        .pulse { animation: pulse 2s infinite; }
        .slide-in { animation: slideIn 0.5s ease-out; }
        
        /* æ£®æ—è‰²ç³» */
        .forest-green { color: #2F4858; }
        .bg-forest-green { background-color: #2F4858; }
        .bg-forest-light { background-color: #E4EFE7; }
        .forest-brown { color: #8B7E74; }
        .bg-forest-brown { background-color: #8B7E74; }
        
        /* å¡ç‰‡æ•ˆæœ */
        .card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        /* é€²åº¦æ¢æ¨£å¼ */
        .progress-step {
            transition: all 0.3s;
        }
        
        .progress-step.active {
            background-color: #2F4858;
            transform: scale(1.2);
        }
        
        .progress-step.completed {
            background-color: #8B7E74;
        }
        
        /* å¾½ç« æ¨£å¼ */
        .badge {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .badge.earned {
            background: linear-gradient(135deg, #8B7E74, #C87D54);
            box-shadow: 0 4px 15px rgba(139, 126, 116, 0.4);
        }
        
        .badge.locked {
            background-color: #e0e0e0;
            opacity: 0.5;
        }
        
        /* éš±è—æ»¾å‹•æ¢ä½†ä¿æŒæ»¾å‹•åŠŸèƒ½ */
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body class="min-h-screen">
    <!-- é–‹å§‹é é¢ -->
    <div id="welcomePage" class="min-h-screen flex items-center justify-center p-4">
        <div class="card max-w-lg w-full p-8 text-center fade-in">
            <h1 class="text-3xl md:text-4xl font-bold forest-green mb-4">éœè¬æ£®æ—</h1>
            <p class="text-lg text-gray-600 mb-2">5 å¤©é«”é©—æ—…ç¨‹</p>
            <p class="text-sm text-gray-500 mb-8">æ¯å¤©åªéœ€ 5 åˆ†é˜ï¼Œé–‹å•Ÿå…§åœ¨çš„å¯§éœä¹‹é–€</p>
            
            <div class="mb-8">
                <img src="https://placehold.co/300x200/8B7E74/FFFFFF?text=Forest" alt="æ£®æ—" class="w-full rounded-lg mb-4">
                <p class="text-sm text-gray-600">åœ¨é€™ç‰‡æ£®æ—è£¡ï¼Œä½ å°‡æ‰¾åˆ°å±¬æ–¼è‡ªå·±çš„å¯§éœè§’è½</p>
            </div>
            
            <button onclick="startJourney()" class="bg-forest-green text-white px-8 py-3 rounded-full text-lg font-medium hover:bg-opacity-90 transition pulse">
                é–‹å§‹æ—…ç¨‹
            </button>
        </div>
    </div>

    <!-- é¸æ“‡åš®å°å‹•ç‰© -->
    <div id="animalSelection" class="min-h-screen flex items-center justify-center p-4 hidden">
        <div class="card max-w-2xl w-full p-8 fade-in">
            <h2 class="text-2xl md:text-3xl font-bold forest-green mb-2 text-center">é¸æ“‡ä½ çš„æ£®æ—åš®å°</h2>
            <p class="text-gray-600 text-center mb-8">ç‰ å°‡é™ªä¼´ä½ èµ°éé€™äº”å¤©çš„æ—…ç¨‹</p>
            
            <div class="grid grid-cols-3 gap-4 mb-8">
                <div onclick="selectAnimal('bear', 'æ²‰ç©©çŸ³ç†Š')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸ»</div>
                    <p class="text-sm font-medium">æ²‰ç©©çŸ³ç†Š</p>
                    <p class="text-xs text-gray-500">ç©©é‡ã€åŒ…å®¹</p>
                </div>
                <div onclick="selectAnimal('deer', 'å„ªé›…é¹¿éˆ')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸ¦Œ</div>
                    <p class="text-sm font-medium">å„ªé›…é¹¿éˆ</p>
                    <p class="text-xs text-gray-500">æ•éŠ³ã€å„ªé›…</p>
                </div>
                <div onclick="selectAnimal('owl', 'æ™ºæ…§è²“é ­é·¹')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸ¦‰</div>
                    <p class="text-sm font-medium">æ™ºæ…§è²“é ­é·¹</p>
                    <p class="text-xs text-gray-500">æ´å¯Ÿã€æ™ºæ…§</p>
                </div>
                <div onclick="selectAnimal('fox', 'éˆå·§ç‹ç‹¸')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸ¦Š</div>
                    <p class="text-sm font-medium">éˆå·§ç‹ç‹¸</p>
                    <p class="text-xs text-gray-500">æ©Ÿæ™ºã€é©æ‡‰</p>
                </div>
                <div onclick="selectAnimal('rabbit', 'æº«æŸ”å…”å­')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸ°</div>
                    <p class="text-sm font-medium">æº«æŸ”å…”å­</p>
                    <p class="text-xs text-gray-500">æº«æš–ã€ç´°è†©</p>
                </div>
                <div onclick="selectAnimal('wolf', 'å …æ¯…ç‹¼é­‚')" class="animal-card cursor-pointer text-center p-4 rounded-lg hover:bg-forest-light transition">
                    <div class="text-4xl mb-2">ğŸº</div>
                    <p class="text-sm font-medium">å …æ¯…ç‹¼é­‚</p>
                    <p class="text-xs text-gray-500">å‹‡æ•¢ã€å¿ èª </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ä¸»è¦æ—…ç¨‹é é¢ -->
    <div id="journeyPage" class="min-h-screen hidden">
        <!-- é ‚éƒ¨é€²åº¦æ¢ -->
        <div class="bg-white shadow-sm sticky top-0 z-10">
            <div class="max-w-4xl mx-auto p-4">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium forest-green">5 å¤©æ—…ç¨‹</h3>
                    <div class="flex items-center gap-2">
                        <span id="animalEmoji" class="text-2xl">ğŸ»</span>
                        <span id="animalName" class="text-sm text-gray-600">æ²‰ç©©çŸ³ç†Š</span>
                    </div>
                </div>
                
                <!-- é€²åº¦æŒ‡ç¤ºå™¨ -->
                <div class="flex items-center justify-between">
                    <div class="progress-step w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold" id="step1">1</div>
                    <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                    <div class="progress-step w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold" id="step2">2</div>
                    <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                    <div class="progress-step w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold" id="step3">3</div>
                    <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                    <div class="progress-step w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold" id="step4">4</div>
                    <div class="flex-1 h-1 bg-gray-300 mx-2"></div>
                    <div class="progress-step w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-white font-bold" id="step5">5</div>
                </div>
            </div>
        </div>

        <!-- å…§å®¹å€åŸŸ -->
        <div class="max-w-4xl mx-auto p-4 py-8">
            <!-- Day 1 å…§å®¹ -->
            <div id="day1" class="day-content">
                <div class="card p-6 md:p-8 mb-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="badge earned text-white text-2xl">1</div>
                        <div>
                            <h2 class="text-2xl font-bold forest-green">Day 1: åˆè¦‹æ£®æ—</h2>
                            <p class="text-sm text-gray-500">èˆ‡å…§åœ¨ç›¸é‡</p>
                        </div>
                    </div>
                    
                    <div class="prose max-w-none mb-6">
                        <p class="text-gray-700 leading-relaxed">
                            æ­¡è¿ä¾†åˆ°éœè¬æ£®æ—ã€‚ä»Šå¤©ï¼Œæˆ‘å€‘å°‡é€éç°¡å–®çš„å‘¼å¸ç·´ç¿’ï¼Œå¹«åŠ©ä½ æš«æ™‚æ”¾ä¸‹å¤–åœ¨çš„å–§å›‚ï¼Œå›åˆ°å…§åœ¨çš„å¯§éœã€‚
                        </p>
                    </div>

                    <!-- å‘¼å¸ç·´ç¿’ -->
                    <div class="bg-forest-light rounded-lg p-6 mb-6">
                        <h3 class="font-semibold forest-green mb-3">3 åˆ†é˜å‘¼å¸è¦ºå¯Ÿ</h3>
                        <p class="text-sm text-gray-600 mb-4">è·Ÿéš¨ä¸‹æ–¹çš„ç¯€å¥ï¼Œé€²è¡Œæ·±å‘¼å¸ç·´ç¿’</p>
                        
                        <div id="breathingCircle" class="w-32 h-32 mx-auto mb-4 rounded-full bg-forest-green opacity-30 transition-all duration-4000"></div>
                        
                        <div class="text-center">
                            <button onclick="startBreathing()" class="bg-forest-green text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition">
                                é–‹å§‹ç·´ç¿’
                            </button>
                        </div>
                    </div>

                    <!-- ä»Šæ—¥åæ€ -->
                    <div class="border-t pt-6">
                        <h3 class="font-semibold forest-green mb-3">ä»Šæ—¥åæ€</h3>
                        <textarea 
                            id="day1Journal"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-transparent resize-none"
                            rows="3"
                            placeholder="åœ¨ç·´ç¿’å¾Œï¼Œä½ æ„Ÿå—åˆ°äº†ä»€éº¼ï¼Ÿ"
                        ></textarea>
                        <button onclick="completeDay(1)" class="mt-3 bg-forest-brown text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition">
                            å®Œæˆä»Šæ—¥ç·´ç¿’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Day 2 å…§å®¹ -->
            <div id="day2" class="day-content hidden">
                <div class="card p-6 md:p-8 mb-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="badge earned text-white text-2xl">2</div>
                        <div>
                            <h2 class="text-2xl font-bold forest-green">Day 2: è†è½å¯§éœ</h2>
                            <p class="text-sm text-gray-500">åŸ¹é¤Šå°ˆæ³¨åŠ›</p>
                        </div>
                    </div>
                    
                    <div class="prose max-w-none mb-6">
                        <p class="text-gray-700 leading-relaxed">
                            ä»Šå¤©ï¼Œè®“æˆ‘å€‘ç·´ç¿’è†è½ã€‚åœ¨çœ‹ä¼¼å¹³å‡¡çš„ç’°å¢ƒä¸­ï¼Œå…¶å¯¦è—è‘—è¨±å¤šç´°å¾®çš„è²éŸ³ï¼Œç­‰å¾…è¢«ç™¼ç¾ã€‚
                        </p>
                    </div>

                    <!-- è²éŸ³å†¥æƒ³ -->
                    <div class="bg-forest-light rounded-lg p-6 mb-6">
                        <h3 class="font-semibold forest-green mb-3">è²éŸ³å†¥æƒ³</h3>
                        <p class="text-sm text-gray-600 mb-4">é–‰ä¸Šçœ¼ç›ï¼Œå°ˆæ³¨æ–¼å‘¨åœçš„è²éŸ³</p>
                        
                        <div class="space-y-3">
                            <label class="flex items-center gap-3 cursor-pointer">
                                <input type="checkbox" class="w-5 h-5 text-forest-green">
                                <span class="text-gray-700">æˆ‘è½è¦‹äº†é è™•çš„è²éŸ³</span>
                            </label>
                            <label class="flex items-center gap-3 cursor-pointer">
                                <input type="checkbox" class="w-5 h-5 text-forest-green">
                                <span class="text-gray-700">æˆ‘è½è¦‹äº†è¿‘è™•çš„è²éŸ³</span>
                            </label>
                            <label class="flex items-center gap-3 cursor-pointer">
                                <input type="checkbox" class="w-5 h-5 text-forest-green">
                                <span class="text-gray-700">æˆ‘è½è¦‹äº†è‡ªå·±çš„å‘¼å¸è²</span>
                            </label>
                        </div>
                    </div>

                    <!-- è¨˜éŒ„å¹³éœçš„è²éŸ³ -->
                    <div class="border-t pt-6">
                        <h3 class="font-semibold forest-green mb-3">è¨˜éŒ„ä¸€å€‹è®“ä½ å¹³éœçš„è²éŸ³</h3>
                        <input 
                            type="text"
                            id="day2Sound"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-transparent"
                            placeholder="ä¾‹å¦‚ï¼šé›¨è²ã€é³¥é³´ã€é¢¨è²..."
                        >
                        <button onclick="completeDay(2)" class="mt-3 bg-forest-brown text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition">
                            å®Œæˆä»Šæ—¥ç·´ç¿’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Day 3 å…§å®¹ -->
            <div id="day3" class="day-content hidden">
                <div class="card p-6 md:p-8 mb-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="badge earned text-white text-2xl">3</div>
                        <div>
                            <h2 class="text-2xl font-bold forest-green">Day 3: è‡ªç„¶é€£çµ</h2>
                            <p class="text-sm text-gray-500">ç™¼ç¾èº«é‚Šçš„è‡ªç„¶</p>
                        </div>
                    </div>
                    
                    <div class="prose max-w-none mb-6">
                        <p class="text-gray-700 leading-relaxed">
                            è‡ªç„¶ç„¡è™•ä¸åœ¨ã€‚å³ä½¿åœ¨åŸå¸‚ä¸­ï¼Œä¹Ÿèƒ½æ‰¾åˆ°ç”Ÿå‘½çš„ç—•è·¡ã€‚ä»Šå¤©ï¼Œè®“æˆ‘å€‘ç”¨å¿ƒè§€å¯Ÿèº«é‚Šçš„è‡ªç„¶å…ƒç´ ã€‚
                        </p>
                    </div>

                    <!-- è§€å¯Ÿç·´ç¿’ -->
                    <div class="bg-forest-light rounded-lg p-6 mb-6">
                        <h3 class="font-semibold forest-green mb-3">è§€å¯Ÿä¸€å€‹è‡ªç„¶å…ƒç´ </h3>
                        <p class="text-sm text-gray-600 mb-4">å¯ä»¥æ˜¯ä¸€ç‰‡è‘‰å­ã€ä¸€æœµé›²ã€ç”šè‡³æ˜¯é™½å…‰çš„å½±å­</p>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-3xl mb-2">ğŸŒ¿</div>
                                <p class="text-sm">æ¤ç‰©</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-3xl mb-2">â˜ï¸</div>
                                <p class="text-sm">å¤©ç©º</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-3xl mb-2">ğŸŒŠ</div>
                                <p class="text-sm">æ°´</p>
                            </div>
                            <div class="bg-white p-4 rounded-lg text-center">
                                <div class="text-3xl mb-2">ğŸª¨</div>
                                <p class="text-sm">çŸ³é ­</p>
                            </div>
                        </div>
                    </div>

                    <!-- æè¿°ç™¼ç¾ -->
                    <div class="border-t pt-6">
                        <h3 class="font-semibold forest-green mb-3">æè¿°ä½ çš„ç™¼ç¾</h3>
                        <textarea 
                            id="day3Discovery"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-transparent resize-none"
                            rows="3"
                            placeholder="æˆ‘è§€å¯Ÿåˆ°äº†..."
                        ></textarea>
                        <button onclick="completeDay(3)" class="mt-3 bg-forest-brown text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition">
                            å®Œæˆä»Šæ—¥ç·´ç¿’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Day 4 å…§å®¹ -->
            <div id="day4" class="day-content hidden">
                <div class="card p-6 md:p-8 mb-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="badge earned text-white text-2xl">4</div>
                        <div>
                            <h2 class="text-2xl font-bold forest-green">Day 4: æ„Ÿæ©æ™‚åˆ»</h2>
                            <p class="text-sm text-gray-500">åŸ¹é¤Šæ„Ÿæ©å¿ƒ</p>
                        </div>
                    </div>
                    
                    <div class="prose max-w-none mb-6">
                        <p class="text-gray-700 leading-relaxed">
                            æ„Ÿæ©æ˜¯ä¸€ç¨®å¼·å¤§çš„åŠ›é‡ã€‚ç•¶æˆ‘å€‘å°‡æ³¨æ„åŠ›æ”¾åœ¨ç¾å¥½çš„äº‹ç‰©ä¸Šï¼Œç”Ÿå‘½ä¹Ÿæœƒå›æ‡‰ä»¥æ›´å¤šçš„ç¾å¥½ã€‚
                        </p>
                    </div>

                    <!-- æ„Ÿæ©ç·´ç¿’ -->
                    <div class="bg-forest-light rounded-lg p-6 mb-6">
                        <h3 class="font-semibold forest-green mb-3">å¯«ä¸‹ä¸‰å€‹æ„Ÿæ©</h3>
                        <p class="text-sm text-gray-600 mb-4">å¯ä»¥æ˜¯å¾ˆå°çš„äº‹ï¼Œé‡è¦çš„æ˜¯çœŸå¿ƒæ„Ÿå—</p>
                        
                        <div class="space-y-3">
                            <input type="text" class="w-full p-3 bg-white rounded-lg" placeholder="1. æˆ‘æ„Ÿæ©...">
                            <input type="text" class="w-full p-3 bg-white rounded-lg" placeholder="2. æˆ‘æ„Ÿæ©...">
                            <input type="text" class="w-full p-3 bg-white rounded-lg" placeholder="3. æˆ‘æ„Ÿæ©...">
                        </div>
                    </div>

                    <!-- é€å‡ºç¥ç¦ -->
                    <div class="border-t pt-6">
                        <h3 class="font-semibold forest-green mb-3">é¸æ“‡ä¸€å€‹äººé€å‡ºç¥ç¦</h3>
                        <input 
                            type="text"
                            id="day4Blessing"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-transparent"
                            placeholder="æˆ‘æƒ³ç¥ç¦..."
                        >
                        <button onclick="completeDay(4)" class="mt-3 bg-forest-brown text-white px-6 py-2 rounded-full hover:bg-opacity-90 transition">
                            å®Œæˆä»Šæ—¥ç·´ç¿’
                        </button>
                    </div>
                </div>
            </div>

            <!-- Day 5 å…§å®¹ -->
            <div id="day5" class="day-content hidden">
                <div class="card p-6 md:p-8 mb-6 fade-in">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="badge earned text-white text-2xl">5</div>
                        <div>
                            <h2 class="text-2xl font-bold forest-green">Day 5: å…§åœ¨ä¹‹å…‰</h2>
                            <p class="text-sm text-gray-500">èªè­˜è‡ªæˆ‘åƒ¹å€¼</p>
                        </div>
                    </div>
                    
                    <div class="prose max-w-none mb-6">
                        <p class="text-gray-700 leading-relaxed">
                            æœ€å¾Œä¸€å¤©ï¼Œè®“æˆ‘å€‘å›åˆ°è‡ªå·±ã€‚ä½ å·²ç¶“èµ°éäº†å››å¤©çš„æ—…ç¨‹ï¼Œæ˜¯æ™‚å€™èªè­˜ä¸¦è‚¯å®šè‡ªå·±çš„åƒ¹å€¼äº†ã€‚
                        </p>
                    </div>

                    <!-- è‡ªæˆ‘è‚¯å®šç·´ç¿’ -->
                    <div class="bg-forest-light rounded-lg p-6 mb-6">
                        <h3 class="font-semibold forest-green mb-3">è‡ªæˆ‘è‚¯å®šç·´ç¿’</h3>
                        <p class="text-sm text-gray-600 mb-4">å¤§è²æˆ–åœ¨å¿ƒä¸­å°è‡ªå·±èªªé€™äº›è©±</p>
                        
                        <div class="space-y-2 text-center text-lg">
                            <p class="forest-green">æˆ‘å€¼å¾—è¢«æ„›</p>
                            <p class="forest-green">æˆ‘æœ‰èƒ½åŠ›é¢å°æŒ‘æˆ°</p>
                            <p class="forest-green">æˆ‘çš„å­˜åœ¨æœ¬èº«å°±æœ‰åƒ¹å€¼</p>
                            <p class="forest-green">æˆ‘æ­£åœ¨æˆç‚ºæ›´å¥½çš„è‡ªå·±</p>
                        </div>
                    </div>

                    <!-- çµ¦æœªä¾†çš„è¨Šæ¯ -->
                    <div class="border-t pt-6">
                        <h3 class="font-semibold forest-green mb-3">å¯«çµ¦æœªä¾†è‡ªå·±çš„ä¸€å¥è©±</h3>
                        <textarea 
                            id="day5Message"
                            class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-forest-green focus:border-transparent resize-none"
                            rows="3"
                            placeholder="è¦ªæ„›çš„è‡ªå·±..."
                        ></textarea>
                        <button onclick="completeJourney()" class="mt-3 bg-gradient-to-r from-forest-green to-forest-brown text-white px-8 py-3 rounded-full hover:opacity-90 transition text-lg font-medium">
                            å®Œæˆ 5 å¤©æ—…ç¨‹
                        </button>
                    </div>
                </div>
            </div>

            <!-- å¾½ç« æ”¶é›†å€ -->
            <div class="card p-6 mb-6">
                <h3 class="text-lg font-semibold forest-green mb-4">æˆ‘çš„æ£®æ—å¾½ç« </h3>
                <div class="flex justify-around">
                    <div class="text-center">
                        <div id="badge1" class="badge locked mx-auto mb-2">ğŸŒ±</div>
                        <p class="text-xs text-gray-600">åˆè¦‹</p>
                    </div>
                    <div class="text-center">
                        <div id="badge2" class="badge locked mx-auto mb-2">ğŸ‘‚</div>
                        <p class="text-xs text-gray-600">è†è½</p>
                    </div>
                    <div class="text-center">
                        <div id="badge3" class="badge locked mx-auto mb-2">ğŸŒ¿</div>
                        <p class="text-xs text-gray-600">é€£çµ</p>
                    </div>
                    <div class="text-center">
                        <div id="badge4" class="badge locked mx-auto mb-2">ğŸ’</div>
                        <p class="text-xs text-gray-600">æ„Ÿæ©</p>
                    </div>
                    <div class="text-center">
                        <div id="badge5" class="badge locked mx-auto mb-2">âœ¨</div>
                        <p class="text-xs text-gray-600">ç¶»æ”¾</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å®Œæˆé é¢ -->
    <div id="completionPage" class="min-h-screen flex items-center justify-center p-4 hidden">
        <div class="card max-w-lg w-full p-8 text-center fade-in">
            <div class="text-6xl mb-4">ğŸŠ</div>
            <h2 class="text-3xl font-bold forest-green mb-4">æ­å–œå®Œæˆæ—…ç¨‹ï¼</h2>
            <p class="text-gray-600 mb-6">ä½ å·²ç¶“æˆåŠŸå®Œæˆäº† 5 å¤©çš„éœè¬æ£®æ—é«”é©—æ—…ç¨‹</p>
            
            <div class="bg-forest-light rounded-lg p-6 mb-6">
                <h3 class="font-semibold forest-green mb-3">ä½ çš„æ—…ç¨‹æˆå°±</h3>
                <div class="flex justify-around text-3xl mb-4">
                    <span>ğŸŒ±</span>
                    <span>ğŸ‘‚</span>
                    <span>ğŸŒ¿</span>
                    <span>ğŸ’</span>
                    <span>âœ¨</span>
                </div>
                <p class="text-sm text-gray-600">æ”¶é›†äº†å…¨éƒ¨ 5 å€‹æ£®æ—å¾½ç« </p>
            </div>
            
            <div class="space-y-3">
                <button onclick="downloadCertificate()" class="w-full bg-forest-green text-white px-6 py-3 rounded-full hover:bg-opacity-90 transition">
                    ä¸‹è¼‰æˆå°±è­‰æ›¸
                </button>
                <button onclick="shareJourney()" class="w-full bg-white text-forest-green border-2 border-forest-green px-6 py-3 rounded-full hover:bg-forest-light transition">
                    åˆ†äº«æˆ‘çš„æ—…ç¨‹
                </button>
                <a href="forest-journey.html" class="block w-full bg-forest-brown text-white px-6 py-3 rounded-full hover:bg-opacity-90 transition">
                    ç¹¼çºŒ 21 å¤©æ·±åº¦æ—…ç¨‹
                </a>
            </div>
        </div>
    </div>

    <script>
        // åˆå§‹åŒ–è³‡æ–™
        let journeyData = {
            animal: null,
            animalName: null,
            currentDay: 1,
            completedDays: [],
            journals: {},
            badges: []
        };

        // å¾ LocalStorage è®€å–é€²åº¦
        function loadProgress() {
            const saved = localStorage.getItem('fiveDayJourney');
            if (saved) {
                journeyData = JSON.parse(saved);
                updateUI();
            }
        }

        // å„²å­˜é€²åº¦
        function saveProgress() {
            localStorage.setItem('fiveDayJourney', JSON.stringify(journeyData));
        }

        // é–‹å§‹æ—…ç¨‹
        function startJourney() {
            document.getElementById('welcomePage').classList.add('hidden');
            document.getElementById('animalSelection').classList.remove('hidden');
        }

        // é¸æ“‡å‹•ç‰©
        function selectAnimal(animal, name) {
            journeyData.animal = animal;
            journeyData.animalName = name;
            
            // æ›´æ–°å‹•ç‰©é¡¯ç¤º
            const animalEmojis = {
                'bear': 'ğŸ»',
                'deer': 'ğŸ¦Œ',
                'owl': 'ğŸ¦‰',
                'fox': 'ğŸ¦Š',
                'rabbit': 'ğŸ°',
                'wolf': 'ğŸº'
            };
            
            document.getElementById('animalEmoji').textContent = animalEmojis[animal];
            document.getElementById('animalName').textContent = name;
            
            // é¡¯ç¤ºä¸»é é¢
            document.getElementById('animalSelection').classList.add('hidden');
            document.getElementById('journeyPage').classList.remove('hidden');
            
            // é¡¯ç¤ºç¬¬ä¸€å¤©å…§å®¹
            showDay(1);
            saveProgress();
        }

        // é¡¯ç¤ºæŒ‡å®šå¤©æ•¸çš„å…§å®¹
        function showDay(day) {
            // éš±è—æ‰€æœ‰å¤©æ•¸å…§å®¹
            document.querySelectorAll('.day-content').forEach(el => {
                el.classList.add('hidden');
            });
            
            // é¡¯ç¤ºç•¶å‰å¤©æ•¸
            document.getElementById(`day${day}`).classList.remove('hidden');
            
            // æ›´æ–°é€²åº¦æ¢
            updateProgressBar();
        }

        // æ›´æ–°é€²åº¦æ¢
        function updateProgressBar() {
            for (let i = 1; i <= 5; i++) {
                const step = document.getElementById(`step${i}`);
                if (journeyData.completedDays.includes(i)) {
                    step.classList.add('completed');
                    step.classList.remove('active');
                } else if (i === journeyData.currentDay) {
                    step.classList.add('active');
                } else {
                    step.classList.remove('active', 'completed');
                }
            }
        }

        // å®ŒæˆæŸä¸€å¤©
        function completeDay(day) {
            // å„²å­˜æ—¥èªŒå…§å®¹
            const journalInput = document.getElementById(`day${day}Journal`) || 
                               document.getElementById(`day${day}Sound`) || 
                               document.getElementById(`day${day}Discovery`) || 
                               document.getElementById(`day${day}Blessing`);
            
            if (journalInput && journalInput.value) {
                journeyData.journals[`day${day}`] = journalInput.value;
            }
            
            // æ¨™è¨˜å®Œæˆ
            if (!journeyData.completedDays.includes(day)) {
                journeyData.completedDays.push(day);
                journeyData.badges.push(day);
                
                // æ›´æ–°å¾½ç« é¡¯ç¤º
                document.getElementById(`badge${day}`).classList.remove('locked');
                document.getElementById(`badge${day}`).classList.add('earned');
            }
            
            // é€²å…¥ä¸‹ä¸€å¤©
            if (day < 5) {
                journeyData.currentDay = day + 1;
                showDay(day + 1);
            }
            
            saveProgress();
        }

        // é–‹å§‹å‘¼å¸ç·´ç¿’
        function startBreathing() {
            const circle = document.getElementById('breathingCircle');
            let scale = 1;
            let growing = true;
            
            const interval = setInterval(() => {
                if (growing) {
                    scale += 0.01;
                    if (scale >= 1.5) growing = false;
                } else {
                    scale -= 0.01;
                    if (scale <= 1) growing = true;
                }
                circle.style.transform = `scale(${scale})`;
            }, 40);
            
            // 3åˆ†é˜å¾Œåœæ­¢
            setTimeout(() => {
                clearInterval(interval);
                circle.style.transform = 'scale(1)';
            }, 180000);
        }

        // å®Œæˆæ•´å€‹æ—…ç¨‹
        function completeJourney() {
            // å„²å­˜æœ€å¾Œä¸€å¤©çš„è¨Šæ¯
            const message = document.getElementById('day5Message').value;
            if (message) {
                journeyData.journals.day5 = message;
            }
            
            // å®Œæˆç¬¬5å¤©
            completeDay(5);
            
            // é¡¯ç¤ºå®Œæˆé é¢
            document.getElementById('journeyPage').classList.add('hidden');
            document.getElementById('completionPage').classList.remove('hidden');
            
            saveProgress();
        }

        // ä¸‹è¼‰è­‰æ›¸ï¼ˆæ¨¡æ“¬ï¼‰
        function downloadCertificate() {
            alert('æˆå°±è­‰æ›¸ç”Ÿæˆä¸­...\n\n' + journeyData.animalName + ' å·²å®Œæˆ 5 å¤©éœè¬æ£®æ—æ—…ç¨‹ï¼');
        }

        // åˆ†äº«åŠŸèƒ½ï¼ˆæ¨¡æ“¬ï¼‰
        function shareJourney() {
            const shareText = `æˆ‘å‰›å®Œæˆäº†éœè¬æ£®æ— 5 å¤©é«”é©—æ—…ç¨‹ï¼\nèˆ‡æˆ‘çš„æ£®æ—åš®å° ${journeyData.animalName} ä¸€èµ·ï¼Œæ”¶é›†äº†å…¨éƒ¨ 5 å€‹æ£®æ—å¾½ç«  ğŸŒ±ğŸ‘‚ğŸŒ¿ğŸ’âœ¨`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'éœè¬æ£®æ—æ—…ç¨‹',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                alert('åˆ†äº«æ–‡å­—å·²è¤‡è£½ï¼š\n\n' + shareText);
            }
        }

        // æ›´æ–° UI
        function updateUI() {
            if (journeyData.animal) {
                // å¦‚æœå·²ç¶“é¸æ“‡å‹•ç‰©ï¼Œç›´æ¥é¡¯ç¤ºæ—…ç¨‹é é¢
                document.getElementById('welcomePage').classList.add('hidden');
                document.getElementById('animalSelection').classList.add('hidden');
                document.getElementById('journeyPage').classList.remove('hidden');
                
                // æ›´æ–°å‹•ç‰©é¡¯ç¤º
                const animalEmojis = {
                    'bear': 'ğŸ»',
                    'deer': 'ğŸ¦Œ',
                    'owl': 'ğŸ¦‰',
                    'fox': 'ğŸ¦Š',
                    'rabbit': 'ğŸ°',
                    'wolf': 'ğŸº'
                };
                
                document.getElementById('animalEmoji').textContent = animalEmojis[journeyData.animal];
                document.getElementById('animalName').textContent = journeyData.animalName;
                
                // æ›´æ–°å¾½ç« 
                journeyData.badges.forEach(day => {
                    document.getElementById(`badge${day}`).classList.remove('locked');
                    document.getElementById(`badge${day}`).classList.add('earned');
                });
                
                // é¡¯ç¤ºç•¶å‰å¤©æ•¸
                showDay(journeyData.currentDay);
                
                // å¦‚æœå·²å®Œæˆæ‰€æœ‰å¤©æ•¸ï¼Œé¡¯ç¤ºå®Œæˆé é¢
                if (journeyData.completedDays.length === 5) {
                    document.getElementById('journeyPage').classList.add('hidden');
                    document.getElementById('completionPage').classList.remove('hidden');
                }
            }
        }

        // é é¢è¼‰å…¥æ™‚åˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            loadProgress();
        });
    </script>
</body>
</html>