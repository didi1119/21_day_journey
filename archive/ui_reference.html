<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>ä½ çš„æ£®æ—äººæ ¼ - ç„¡æ†‚çŸ³ç†Š</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            background-color: #F4F3F1;
        }
        .report-container {
            max-width: 800px;
            margin: auto;
        }
        .card {
            background-color: #FFFFFF;
            border-radius: 1.5rem;
            padding: 2rem;
            border: 1px solid #EAE3D4;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #4A5C43;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        /* Carousel Styles */
        .carousel-container {
            position: relative;
            overflow: hidden;
            border-radius: 1.5rem;
            height: 90vh;
            min-height: 500px;
            max-height: 850px;
        }
        .carousel-wrapper {
            display: flex;
            transition: transform 0.5s ease-in-out;
            height: 100%;
        }
        .carousel-slide {
            min-width: 100%;
            height: 100%;
        }
        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 20px;
            color: white;
            transition: all 0.3s ease;
            z-index: 10;
        }
        .carousel-nav:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        .carousel-nav.prev { left: 15px; }
        .carousel-nav.next { right: 15px; }

        .carousel-indicators {
            position: absolute;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }
        .carousel-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .carousel-indicator.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* Passport Styles */
        .passport-bg {
            background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)), url('https://placehold.co/800x400/A8D5BA/FFFFFF?text=Forest+Pattern');
            background-size: cover;
        }
        .imprint-slot {
            aspect-ratio: 1/1;
            background-color: rgba(255, 255, 255, 0.7);
            border: 2px dashed #B8A99A;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #B8A99A;
            transition: all 0.3s ease;
        }
        .imprint-slot.unlocked {
            filter: grayscale(0%);
            opacity: 1;
            background-color: #E2D9C8;
            color: #6B5F51;
        }
        .imprint-slot span { font-size: 24px; }
        .imprint-slot p { font-size: 10px; margin-top: 2px; font-weight: 500;}

    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">

    <div class="report-container space-y-8">

        <!-- Section 1: Hero Carousel -->
        <div class="carousel-container shadow-lg" id="characterCarousel">
            <div class="carousel-wrapper" id="carouselWrapper">
                <!-- Slides will be injected here by JS -->
            </div>
            
            <!-- Navigation -->
            <button class="carousel-nav prev" id="prevBtn">â€¹</button>
            <button class="carousel-nav next" id="nextBtn">â€º</button>

            <!-- Gradient Overlay & Info -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/50 via-black/10 to-transparent pointer-events-none"></div>
            <div class="absolute bottom-6 left-4 right-4 sm:left-6 sm:right-6 text-white pointer-events-none">
                <div class="bg-black/30 backdrop-blur-md rounded-2xl p-4 sm:p-5 border border-white/20">
                    <h1 class="text-2xl sm:text-3xl lg:text-4xl font-bold mb-1 leading-tight" id="characterName"></h1>
                    <p class="text-sm sm:text-base lg:text-lg opacity-90 leading-relaxed" id="characterSubtitle"></p>
                </div>
            </div>
            
            <!-- Indicators -->
            <div class="carousel-indicators" id="indicators"></div>
        </div>

        <!-- Section 2: Core Self Analysis -->
        <div class="card">
            <h2 class="section-title">ä½ çš„æ ¸å¿ƒç‰¹è³ª</h2>
            <blockquote class="text-center italic text-gray-500 border-l-4 border-[#A8D5BA] pl-4 py-2 max-w-2xl mx-auto mb-8">
                "ä½ çš„æº«æŸ”ï¼Œå¦‚æ£®æ—åšå¯¦çš„è‹”è˜šï¼Œç„¡è²åœ°æ‰¿æ¥ä¸€åˆ‡ï¼Œè®“è¬ç‰©å¾—ä»¥å®‰æ­‡ã€‚"
            </blockquote>
            <p class="text-center text-gray-700 max-w-2xl mx-auto mb-10">
                å¦‚åŒæ£²æ¯åœ¨å¯§éœæ£®æ—æ·±è™•çš„çŸ³ç†Šï¼Œä½ æ“æœ‰ç©©å®šè€Œæº«å’Œçš„å…§å¿ƒã€‚ä½ çœ‹é‡å’Œè«§èˆ‡å¹³éœï¼Œç¸½èƒ½çµ¦å‘¨é­å¸¶ä¾†å®‰å®šçš„åŠ›é‡ã€‚å°ä½ è€Œè¨€ï¼Œæœ€èˆ’é©çš„ç‹€æ…‹ä¾¿æ˜¯åœ¨ç†Ÿæ‚‰çš„ç’°å¢ƒä¸­ï¼Œäº«å—ç°¡å–®è€Œç´”ç²¹çš„å¿«æ¨‚ã€‚
            </p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center">
                <div>
                    <h3 class="text-xl font-bold text-[#6B5F51] mb-4">çŸ³ç†Šçš„å¤©è³¦</h3>
                    <ul class="space-y-3 text-gray-700">
                        <li class="flex items-start"><span class="text-[#4A5C43] mr-2">âœ“</span> <strong>æƒ…ç·’ç©©å®šï¼š</strong> åƒå¤§åœ°ä¸€æ¨£ç©©å›ºï¼Œä¸å®¹æ˜“è¢«å¤–ç•Œçš„é¢¨é›¨å‹•æ–ã€‚</li>
                        <li class="flex items-start"><span class="text-[#4A5C43] mr-2">âœ“</span> <strong>é«˜åº¦è¦ªå’Œï¼š</strong> æº«æš–è€Œå¯Œæœ‰åŒç†å¿ƒï¼Œæ˜¯æ£®æ—ä¸­å€¼å¾—ä¿¡è³´çš„å¤¥ä¼´ã€‚</li>
                    </ul>
                    <h3 class="text-xl font-bold text-[#6B5F51] mt-6 mb-4">é©åˆçš„æ£®æ—å¤¥ä¼´</h3>
                    <p class="text-gray-700">èˆ‡å……æ»¿å¥½å¥‡å¿ƒçš„ã€Œå°‹è·¯éˆç‹ã€æˆ–ç›®æ¨™æ˜ç¢ºçš„ã€Œç¯‰å·¢æ²³ç‹¸ã€åŒè¡Œï¼Œèƒ½ç‚ºå½¼æ­¤å¸¶ä¾†å•Ÿç™¼èˆ‡æ”¯æŒã€‚</p>
                </div>
                <div>
                    <h3 class="text-xl font-bold text-center text-[#6B5F51] mb-2">æ£®æ—äº”ç¶­ç‰¹è³ª</h3>
                    <canvas id="personalityChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section 3: Inner World -->
        <div class="card">
            <h2 class="section-title">ä½ çš„å°ˆå±¬ç™‚ç™’æ™‚åˆ»</h2>
            <div class="max-w-md mx-auto text-center">
                <p class="font-semibold text-gray-700">ã€ŠçŸ³ç†Šçš„å¤§åœ°å‘¼å¸ã€‹</p>
                <p class="text-sm text-gray-500 mb-4">é–‰ä¸Šçœ¼ï¼Œè®“è²éŸ³å¼•å°ä½ å›æ­¸å…§åœ¨çš„å®‰ç©©ã€‚</p>
                <audio controls class="w-full">
                    <source src="" type="audio/mpeg">
                    æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´éŸ³è¨Šæ’­æ”¾ã€‚
                </audio>
            </div>
        </div>
        
        <div class="card">
            <h2 class="section-title">æ¢ç´¢ä½ çš„å…§åœ¨æ£®æ—</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                    <h3 class="font-bold text-lg text-gray-800 mb-3">æˆé•·çš„èª²é¡Œ</h3>
                    <p class="text-gray-700">æœ‰æ™‚å¯èƒ½æœƒéæ–¼å®‰æ–¼ç¾ç‹€ï¼Œå˜—è©¦èµ°å‡ºèˆ’é©åœˆï¼Œæ¢ç´¢æ£®æ—ä¸­æœªçŸ¥çš„é¢¨æ™¯ï¼Œæˆ–è¨±æœƒæœ‰æ–°çš„ç™¼ç¾ã€‚</p>
                </div>
                <div>
                    <h3 class="font-bold text-lg text-gray-800 mb-3">çµ¦å®‰æ–¼ç¾ç‹€çš„ä½ ï¼š</h3>
                    <ul class="list-disc list-inside text-gray-700 space-y-2">
                        <li><strong>èµ°ä¸€æ¢æ–°çš„å°å¾‘ï¼š</strong> é€±æœ«å»ä¸€å€‹å¾æœªå»éçš„åœ°æ–¹æ•£æ­¥ã€‚</li>
                        <li><strong>åšåšé™Œç”Ÿçš„æ¼¿æœï¼š</strong> å­¸ç¿’ä¸€é …ç°¡å–®çš„æ–°æŠ€èƒ½ï¼Œä¾‹å¦‚ä¸€é“æ–°èœã€‚</li>
                        <li><strong>è†è½é¢¨çš„è²éŸ³ï¼š</strong> æ¯å¤©ç•™å‡º10åˆ†é˜ï¼Œä¸å¸¶ç›®çš„åœ°éœåã€‚</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="card text-center">
             <h2 class="section-title">æ£®æ—çš„ç¥ç¦</h2>
             <p class="text-gray-700 max-w-xl mx-auto">é¡˜ä½ ç¸½èƒ½æ‰¾åˆ°å±¬æ–¼ä½ çš„é‚£å¡Šå®‰ç©©çš„å²©çŸ³ï¼Œå®‰ç„¶å…¥ç¡ã€‚ä½ çš„å¹¸é‹ç‰©æ˜¯ã€Œåœ“æ½¤çš„æºªçŸ³ã€ï¼Œå®ƒæé†’ä½ ï¼Œæº«å’Œçš„åŠ›é‡è¶³ä»¥æŠµæ“‹æ™‚é–“çš„æ´ªæµã€‚</p>
        </div>

        <!-- Section 4: Outer World (Passport & Park) -->
        <div class="card passport-bg">
            <h2 class="section-title">ä½ çš„éœè¬æ£®æ—è­·ç…§</h2>
            <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 items-start">
                <!-- Left Side: Passport Info -->
                <div class="lg:col-span-3 bg-white/80 p-6 rounded-2xl border border-white">
                    <div class="flex flex-col sm:flex-row gap-4 items-center">
                        <img src="media/image/big5/01_ç„¡æ†‚çŸ³ç†Š_00000.jpg" alt="çŸ³ç†Šé ­åƒ" class="w-24 h-24 rounded-lg object-cover flex-shrink-0">
                        <div class="text-center sm:text-left">
                           <p><strong>å§“å:</strong> ç„¡æ†‚çŸ³ç†Š</p>
                           <p><strong>æ£®æ—ID:</strong> <span id="forest-id"></span></p>
                           <p><strong>é¦–æ¬¡å…¥å¢ƒ:</strong> <span id="entry-date"></span></p>
                        </div>
                         <img src="https://placehold.co/80x80/FFFFFF/000000?text=QR" alt="å‹èª¼ç¢¼" class="w-20 h-20 rounded-lg ml-auto hidden sm:block">
                    </div>
                    <div class="mt-4 pt-4 border-t border-dashed border-[#D1C7B3]">
                         <p class="text-sm text-center text-gray-600 mb-3"><b>æ£®æ—å¤¥ä¼´é—œä¿‚åœ–é‘‘</b>: é‚€è«‹æœ‹å‹æ¸¬é©—ï¼Œè§£é–ä½ å€‘çš„é—œä¿‚æ´å¯Ÿï¼</p>
                         <a href="partner_atlas.html" class="w-full block text-center bg-[#9A6A4D] text-white font-bold py-2 px-4 rounded-lg hover:bg-[#835A40] transition-colors duration-300 text-sm">
                            æŸ¥çœ‹æˆ‘çš„å¤¥ä¼´åœ–é‘‘ (å·²è§£é– 1/32)
                        </a>
                    </div>
                </div>

                <!-- Right Side: Park Imprints -->
                <div class="lg:col-span-2 bg-white/80 p-6 rounded-2xl border border-white">
                    <h3 class="font-bold text-md text-center text-gray-800 mb-3">åœ’å€é™å®šå°è¨˜</h3>
                    <div class="grid grid-cols-2 gap-3">
                        <div class="imprint-slot unlocked"><span>ğŸ˜´</span><p>ä¼‘æ†©</p></div>
                        <div class="imprint-slot"><span>ğŸ¯</span><p>é€²é£Ÿ</p></div>
                        <div class="imprint-slot"><span>ğŸš¶</span><p>æ¼«æ­¥</p></div>
                        <div class="imprint-slot"><span>ğŸ§˜</span><p>æ²‰æ€</p></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="card">
            <h2 class="section-title">çŸ³ç†Šçš„å¯§éœåˆå¾Œ (å»ºè­°è¡Œç¨‹)</h2>
            <div class="grid md:grid-cols-2 gap-8 items-center">
                <img src="media/image/map/B3A700DA-6EFB-4A9B-9126-9F4DBEB17014.PNG" alt="åœ’å€åœ°åœ–" class="w-full h-auto rounded-lg">
                <ul class="space-y-3">
                    <li><strong>14:00 | éœ²å°åˆèŒ¶ï¼š</strong> åœ¨å°å±‹éœ²å°ä¸‹æ–¹ï¼Œäº«ç”¨æº«æš–çš„èŠ±è‰èŒ¶èˆ‡é»å¿ƒã€‚</li>
                    <li><strong>15:30 | æ± ç•”æ™‚å…‰ï¼š</strong> æ¼«æ­¥åˆ°å¯§éœçš„æ± å¡˜é‚Šï¼Œåä¸‹çœ‹è‘—æ°´é¢å€’å½±ã€‚</li>
                    <li><strong>17:00 | ç†±æ°´æµ´æ”¾é¬†ï¼š</strong> è®“æº«ç†±çš„æ°´æµæ´—å»ç–²æ†Šï¼Œç‚ºèº«é«”å……é›»ã€‚</li>
                    <li><strong>19:00 | ç‡Ÿç«é‚Šçš„æº«æš–ï¼š</strong> æ„Ÿå—ç«ç„°çš„è·³å‹•ï¼Œäº«å—æœ€ç´”ç²¹çš„å¹³éœã€‚</li>
                </ul>
            </div>
        </div>

        <!-- Section 5: Call to Action -->
        <div class="card text-center bg-amber-50/50">
            <h2 class="section-title">ä¸€ä»½ä¾†è‡ªæ£®æ—çš„è´ˆç¦®</h2>
            <p class="text-gray-600">è¦ªæ„›çš„ç„¡æ†‚çŸ³ç†Šï¼Œæ„Ÿè¬ä½ ç‚ºä¸–ç•Œå¸¶ä¾†ç©©å®šèˆ‡æº«æš–ã€‚æ†‘æ­¤å ±å‘Šç•«é¢ä¾†åˆ°ã€Œéœè¬æ£®æ—å±‹ã€ï¼Œæˆ‘å€‘å°‡ç‚ºæ‚¨ç»ä¸Šï¼š</p>
            <p class="my-3 font-semibold text-lg text-[#4A5C43]">ã€Œå¹¸é‹æºªçŸ³ä¸€é¡† & æ‰‹æ²–æš–å¿ƒèŠ±è‰èŒ¶ä¸€æ¯ã€</p>
            <p class="text-sm text-gray-500">è®“æ£®æ—çš„ç¦®ç‰©ï¼Œé™ªä¼´ä½ åº¦éå¯§éœçš„åˆå¾Œã€‚</p>
            <div class="mt-6">
                <button id="shareButton" class="bg-[#4A5C43] text-white font-bold py-3 px-8 rounded-full hover:bg-[#3A4A35] transition-colors duration-300">
                    åˆ†äº«æˆ‘çš„æ£®æ—äººæ ¼
                </button>
                <p id="copyMessage" class="text-sm text-gray-500 mt-2 opacity-0 transition-opacity duration-300">å ±å‘Šé€£çµå·²è¤‡è£½ï¼</p>
            </div>
        </div>
        
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Your existing JavaScript for Carousel, Chart, and Passport Info
            const characters = [
                { name: 'ç„¡æ†‚çŸ³ç†Š', subtitle: 'Grounded Guardian | æ²‰ç©©çš„å®ˆè­·è€…', image: 'media/image/big5/01_ç„¡æ†‚çŸ³ç†Š_00000.jpg' },
                { name: 'ç¬¦æ–‡æ‹¾è’è²“', subtitle: 'Mystical Scavenger | ç¥ç§˜çš„æ‹¾è’è€…', image: 'media/image/big5/02_ç¬¦æ–‡æ‹¾è’è²“_00001.jpg' },
                { name: 'ç©´å±…ååŸ·ç‹', subtitle: 'Paranoid Dweller | ååŸ·çš„å±…è€…', image: 'media/image/big5/03_ç©´å±…ååŸ·ç‹_00010.jpg' },
                { name: 'å¹½å½±é ‘ç‹', subtitle: 'Shadow Trickster | é™°å½±çš„ç©å®¶', image: 'media/image/big5/04_å¹½å½±é ‘ç‹_00011.jpg' },
                { name: 'èŸ»å·¥éš±ç‹', subtitle: 'Worker Fox | å·¥ä½œçš„ç‹ç‹¸', image: 'media/image/big5/05_èŸ»å·¥éš±ç‹_00100.jpg' },
                { name: 'ç„éµæ™ºæ¢Ÿ', subtitle: 'Iron Wise Owl | é‹¼éµæ™ºè€…', image: 'media/image/big5/06_ç„éµæ™ºæ¢Ÿ_00101.jpg' },
                { name: 'ç›”ç”²å·¥èŸ»ç†Š', subtitle: 'Armored Worker | è£ç”²å·¥ä½œè€…', image: 'media/image/big5/07_ç›”ç”²å·¥èŸ»ç†Š_00110.jpg' },
                { name: 'ç§˜å„€å·§ç†Š', subtitle: 'Mystical Artisan | ç¥ç§˜å·¥åŒ ', image: 'media/image/big5/08_ç§˜å„€å·§ç†Š_00111.jpg' },
                { name: 'éœå¿ƒé¾œè±¡', subtitle: 'Tranquil Sage | å¯§éœæ™ºè€…', image: 'media/image/big5/09_éœå¿ƒé¾œè±¡_01000.jpg' },
                { name: 'è§€æ˜Ÿæ™ºè±¡', subtitle: 'Star Gazer | è§€æ˜Ÿè€…', image: 'media/image/big5/10_è§€æ˜Ÿæ™ºè±¡_01001.jpg' },
                { name: 'å«ç¾æ¨¹æ‡¶', subtitle: 'Shy Sloth | å®³ç¾çš„æ¨¹æ‡¶', image: 'media/image/big5/11_å«ç¾æ¨¹æ‡¶_01010.jpg' },
                { name: 'å¥‡æƒ³éš±å£«é¹¿', subtitle: 'Whimsical Hermit | å¥‡æƒ³éš±å£«', image: 'media/image/big5/12_å¥‡æƒ³éš±å£«é¹¿_01011.jpg' },
                { name: 'æ˜Ÿæ²³ç¹”å£©ç‹¸', subtitle: 'Cosmic Weaver | å®‡å®™ç¹”è€…', image: 'media/image/big5/13_æ˜Ÿæ²³ç¹”å£©ç‹¸_01100.jpg' },
                { name: 'éœæºªéˆæµ·ç‹¸', subtitle: 'Stream Spirit | æºªæµç²¾éˆ', image: 'media/image/big5/14_éœæºªéˆæµ·ç‹¸_01101.jpg' },
                { name: 'éœé»˜åœ’ä¸é¹¿', subtitle: 'Silent Gardener | éœé»˜åœ’ä¸', image: 'media/image/big5/15_éœé»˜åœ’ä¸é¹¿_01110.jpg' },
                { name: 'æ›¸åº«è¢å…”', subtitle: 'Library Keeper | åœ–æ›¸ç®¡ç†å“¡', image: 'media/image/big5/16_æ›¸åº«è¢å…”_01111.jpg' },
                { name: 'å­¤å²©æ­Œé³¥', subtitle: 'Lone Songbird | å­¤ç¨æ­Œè€…', image: 'media/image/big5/17_å­¤å²©æ­Œé³¥_10000.jpg' },
                { name: 'ç‹‚æƒ³ç•«çŒ´', subtitle: 'Fantasy Artist | å¹»æƒ³è—è¡“å®¶', image: 'media/image/big5/18_ç‹‚æƒ³ç•«çŒ´_10001.jpg' },
                { name: 'èºè¡›äº‚é›€', subtitle: 'Restless Guardian | ä¸å®‰çš„å®ˆè¡›', image: 'media/image/big5/19_èºè¡›äº‚é›€_10010.jpg' },
                { name: 'é¢¨ç¾½æ™ºé´‰', subtitle: 'Wind Sage | é¢¨ä¹‹æ™ºè€…', image: 'media/image/big5/20_é¢¨ç¾½æ™ºé´‰_10011.jpg' },
                { name: 'ç™¾å·æ—é•·ç†Š', subtitle: 'River Chief | æ²³æµæ—é•·', image: 'media/image/big5/21_ç™¾å·æ—é•·ç†Š_10100.jpg' },
                { name: 'é ˜èˆªå·¨ç†Š', subtitle: 'Navigator Giant | é ˜èˆªå·¨äºº', image: 'media/image/big5/22_é ˜èˆªå·¨ç†Š_10101.jpg' },
                { name: 'å£å£˜ç¯‰å·¢æ¾é¼ ', subtitle: 'Fortress Builder | å ¡å£˜å»ºé€ è€…', image: 'media/image/big5/23_å£å£˜ç¯‰å·¢æ¾é¼ _10110.jpg' },
                { name: 'è’¼ç©¹å·¨åŒ é³¥', subtitle: 'Sky Craftsman | å¤©ç©ºå·¥åŒ ', image: 'media/image/big5/24_è’¼ç©¹å·¨åŒ é³¥_10111.jpg' },
                { name: 'æ…¶å…¸æ¨‚çŒ´', subtitle: 'Festival Celebrant | æ…¶å…¸æ…¶ç¥è€…', image: 'media/image/big5/25_æ…¶å…¸æ¨‚çŒ´_11000.jpg' },
                { name: 'å°‹å¥‡éˆçŒ´', subtitle: 'Wonder Seeker | å¥‡è¹Ÿå°‹æ±‚è€…', image: 'media/image/big5/26_å°‹å¥‡éˆçŒ´_11001.jpg' },
                { name: 'å…‰å¡µçµ¨å…”', subtitle: 'Stardust Rabbit | æ˜Ÿå¡µå…”', image: 'media/image/big5/27_å…‰å¡µçµ¨å…”_11010.jpg' },
                { name: 'çµ®èªé¢¨çŒ´', subtitle: 'Whispering Wind | ç´°èªä¹‹é¢¨', image: 'media/image/big5/28_çµ®èªé¢¨çŒ´_11011.jpg' },
                { name: 'ç£çŸ³ç¤¾é¹¿', subtitle: 'Rock Community | ç£çŸ³ç¤¾ç¾¤', image: 'media/image/big5/29_ç£çŸ³ç¤¾é¹¿_11100.jpg' },
                { name: 'ç¤¾ç¾¤é…‹é•·é¹¿', subtitle: 'Community Chief | ç¤¾ç¾¤é…‹é•·', image: 'media/image/big5/30_ç¤¾ç¾¤é…‹é•·é¹¿_11101.jpg' },
                { name: 'ç¯‰å·¢å®ˆè¡›æ¾é¼ ', subtitle: 'Nest Guardian | å·¢ç©´å®ˆè¡›', image: 'media/image/big5/31_ç¯‰å·¢å®ˆè¡›æ¾é¼ _11110.jpg' },
                { name: 'è¬è¯æ™¶é¹¿', subtitle: 'Crystal Monarch | æ°´æ™¶å›ä¸»', image: 'media/image/big5/32_è¬è¯æ™¶é¹¿_11111.jpg' }
            ];

            const wrapper = document.getElementById('carouselWrapper');
            const indicatorsContainer = document.getElementById('indicators');
            const characterNameEl = document.getElementById('characterName');
            const characterSubtitleEl = document.getElementById('characterSubtitle');
            
            // Populate Carousel
            characters.forEach((char, index) => {
                const slide = document.createElement('div');
                slide.className = 'carousel-slide';
                slide.innerHTML = `<img src="${char.image}" alt="${char.name}">`;
                wrapper.appendChild(slide);

                const indicator = document.createElement('div');
                indicator.className = 'carousel-indicator';
                indicator.dataset.index = index;
                indicatorsContainer.appendChild(indicator);
            });

            let currentSlide = 0; // Assuming the user is the first character
            const totalSlides = characters.length;
            const indicators = document.querySelectorAll('.carousel-indicator');

            function updateCarousel() {
                wrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
                indicators.forEach((indicator, index) => {
                    indicator.classList.toggle('active', index === currentSlide);
                });
                characterNameEl.textContent = characters[currentSlide].name;
                characterSubtitleEl.textContent = characters[currentSlide].subtitle;
            }

            function goToSlide(index) {
                currentSlide = (index + totalSlides) % totalSlides;
                updateCarousel();
            }

            document.getElementById('prevBtn').addEventListener('click', () => goToSlide(currentSlide - 1));
            document.getElementById('nextBtn').addEventListener('click', () => goToSlide(currentSlide + 1));
            indicators.forEach(indicator => {
                indicator.addEventListener('click', (e) => goToSlide(parseInt(e.target.dataset.index)));
            });
            
            updateCarousel(); // Initial setup

             const data = {
                labels: ['é–‹æ”¾æ€§', 'ç›¡è²¬æ€§', 'å¤–å‘æ€§', 'è¦ªå’Œæ€§', 'æƒ…ç·’ç©©å®š'],
                datasets: [{
                    label: 'äººæ ¼ç‰¹è³ªåˆ†æ•¸',
                    data: [30, 75, 40, 85, 20], 
                    backgroundColor: 'rgba(74, 92, 67, 0.2)',
                    borderColor: 'rgb(74, 92, 67)',
                    pointBackgroundColor: 'rgb(74, 92, 67)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(74, 92, 67)'
                }]
            };

            const config = {
                type: 'radar',
                data: data,
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: { r: { min: 0, max: 100, pointLabels: { font: { size: 12 } }, ticks: { stepSize: 25 } } },
                    plugins: { legend: { display: false } }
                }
            };
            
            new Chart(document.getElementById('personalityChart'), config);

            const today = new Date();
            const dateString = `${today.getFullYear()}.${String(today.getMonth() + 1).padStart(2, '0')}.${String(today.getDate()).padStart(2, '0')}`;
            document.getElementById('entry-date').textContent = dateString;
            
            const randomNum = Math.floor(1000 + Math.random() * 9000);
            const forestId = `SB-${today.getFullYear().toString().slice(-2)}${String(today.getMonth() + 1).padStart(2, '0')}-${randomNum}`;
            document.getElementById('forest-id').textContent = forestId;

            const shareButton = document.getElementById('shareButton');
            const copyMessage = document.getElementById('copyMessage');
            shareButton.addEventListener('click', () => {
                const url = window.location.href;
                navigator.clipboard.writeText(url).then(() => {
                    copyMessage.style.opacity = '1';
                    setTimeout(() => { copyMessage.style.opacity = '0'; }, 2000);
                }).catch(err => console.error('ç„¡æ³•è¤‡è£½é€£çµ: ', err));
            });
        });
    </script>
</body>
</html>
